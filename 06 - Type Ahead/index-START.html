<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Type Ahead ğŸ‘€</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <form class="search-form">
    <input type="text" class="search" placeholder="City or State">
    <ul class="suggestions">
      <li>Filter for a city</li>
      <li>or a state</li>
    </ul>
  </form>
<script>
const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';
//ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«å…¥åŠ›ã•ã‚ŒãŸå†…å®¹ã§ã€cityé…åˆ—ã‚’filter
//citiesã«jsonãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹
let cities = [];
//ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å‡ºã™
 
fetch(endpoint)
ã€€ã€€.then(blob => blob.json())
.then(data => cities.push(...data));//ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã‚’ä½¿ã†ã“ã¨ã§ã€é…åˆ—ã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ï¼ˆä½¿ã‚ãªã‘ã‚Œã°index0ã«ã™ã¹ã¦ã®è¦ç´ ãŒè¿½åŠ ã•ã‚Œã¦ã„ãŸï¼‰

function findMaches(wordToMatch, cities){
  return cities.filter(place => {
    //ã“ã“ã§filterã‚’ã‹ã‘ã‚‹ãŸã‚ã«ã€æ–‡å­—ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹
 ã€€const regex = new RegExp(wordToMatch,'g');//æ–‡å­—åˆ—æ“ä½œã‚’ã™ã‚‹RegExpã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
 return place.city.match(regex) || place.state.match(regex)//cityã¾ãŸã¯stateã«ãƒãƒƒãƒã—ãŸå€¤ã‚’return
  });
}

//å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—ã‚’ã¨ã£ã¦ãã‚‹
function displayMatches(){
ã€€console.log(this.value);
}

const searchInput = document.querySelector('.search');
const suggestions = document.querySelector('.suggestions');

searchInput.addEventListener('change',displayMatches);
searchInput.addEventListener('keyup',displayMatches);

</script>
</body>
</html>